<div class="flex justify-between pb-3">
  <button (click)="updateFilter()">Update Filter</button>

  <nx-suite-ui-button
    [appearance]="'primary'"
    [size]="'m'"
    [routerLink]="'/categories/create'"
    >Create</nx-suite-ui-button
  >
</div>

<div>
  <nx-suite-ui-loader
    [showLoader]="categoryStore.entityLoading()"
    [overlay]="true"
  >
    <nx-suite-ui-table
      [size]="'l'"
      [columns]="columnsConfig()"
      [totalCount]="categoryStore.totalCount()"
      [data]="categoryStore.entities()"
      [pagination]="categoryStore.pagination()"
      [sortOrder]="categoryStore.sort()"
      [contextMenu]="tableContextMenuTemplate()"
      (onPaginationChange)="onPaginationChange($event)"
      (onSortChange)="onSortChange($event)"
    />
  </nx-suite-ui-loader>
</div>
<ng-template
  nxSuiteUiTableContextMenuTemplate
  [item]="categoryStore.entities()[0]"
  nxSuiteUiTableItemContext
  let-context
>
  <nx-suite-ui-button
    [appearance]="'outline'"
    [iconButton]="{ iconStart: '@tui.pencil' }"
    (onClick)="editCategory(context)"
    >edit</nx-suite-ui-button
  >
</ng-template>

<ng-template
  eshopAdminTableColumnImageTemplate
  [item]="categoryStore.entities()[0]"
  nxSuiteUiTableItemContext
  let-context
>
  @if(context.item.imageUrl) {
  <img src="{{ context.item.imageUrl }}" alt="image" />
  }
</ng-template>
